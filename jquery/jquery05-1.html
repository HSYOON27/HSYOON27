<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>선생님 풀이</title>
    <link rel="stylesheet" type="text/css" href="css/load.css">
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/commons.css">
    <link rel="stylesheet" type="text/css" href="css/layout.css">
    <link rel="stylesheet" type="text/css" href="css/test.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">

    <style>
        
    </style>

    <!--Jquery Cdn-->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
   
    <script type="text/javascript">
       
        $(function(){
            //목표 
            //1. 아이디 입력창 입력 완료 시 정규 표현식 검사 후 출력
            //2. 비번 입력창 입력 완료 시 정규표현식 검사 후 출력
            //3. 비밀번호 확인창 입력완료시 비밀번호와 비교 후 출력

            $("[name=memberId]").on("blur", function(){
                //this == 아이디 입력창 
                var memberId = $(this).val();
                var regex =/^[a-z][a-z0-9]{7,19}$/;
                var isValid = regex.test(memberId);

                if(isValid) {
                    $(this).next().css("color", "forestgreen");
                    $(this).next("span").text("멋진 아이디 입니다.");
                }

                else {
                    $(this).next().css("color","red").text("아디는 영문 소문자로 시작하며 숫자 포함해 8~20자로 작성하세요.");
                }
            });
            
            //2.
            $("[name=memberPw]").on("blur",function(){
                var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$])[a-zA-Z0-9!@#$]{8,16}$/;
                var isValid = regex.test($(this).val());

                if(isValid){
                    $(this).next().css("color", "forestgreen").text("올바른 비번 형식입니다.")
                }

                else {
                    $(this).next().css("color", "red").text("비밀번호는 8~16자로 작성해야 하며 반드시 대/소문자,숫자,특수문자가 포함되어야 합니다")
                }
            });

            //3.
            $("#passwordRe").blur(function(){
                var memberPw = $("[name=memberPw]").val();
                var passwordRe = $(this).val();

                var isValid = memberPw = passwordRe;

                if(memberPw.length==0){
                    $(this).next().css("color", "red").text("비번 먼저 입력");
                }
                else if(isValid){
                    $(this).next().css("color", "forestgreen").text("비번이 일치합니다.");
                }

                else{ //거절
                    $(this).next().css("color", "red").text("비번이 불일치.");

                }

            });
        });

        
        
       

    </script>

</head>
<body>
    <form autocomplete="off">
    <div class="container-500">
        <div class="row center">
            <h1>회원 가입</h1>
        </div>
        <div class="row">
            <label>아이디</label>
            <input type="text" name="memberId" class="form-input w-100">
            <span></span>
        </div>
        <div class="row">
            <label>비밀번호</label>
            <input type="password" name="memberPw" class="form-input w-100">
            <span></span>
        </div>
      
        <div class="row">
            <label>비밀번호 확인</label>
            <input type="password" id="passwordRe" class="form-input w-100">
            <span></span>
        </div>
        <div class="row">
            <button type="submit" class="form-btn w-100 positive">가입</button>
        </div>
    </div>
    </form>
</body>    
</html>